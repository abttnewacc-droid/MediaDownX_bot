from aiogram import Router, F
from aiogram.filters import CommandStart, Command
from aiogram.types import Message, CallbackQuery
from keyboards.inline import InlineKeyboards

router = Router()


@router.message(CommandStart())
async def cmd_start(message: Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start"""
    welcome_text = """
üé¨ <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ MediaDownX!</b>

–Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å–∫–∞—á–∞—Ç—å –º–µ–¥–∏–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∫–∞—á–µ—Å—Ç–≤–æ–º:

üìπ <b>–í–∏–¥–µ–æ:</b>
‚Ä¢ YouTube (–≤–∫–ª—é—á–∞—è Shorts)
‚Ä¢ Instagram (Reels, Posts, Stories)
‚Ä¢ TikTok
‚Ä¢ Twitter / X
‚Ä¢ Pinterest
‚Ä¢ –õ—é–±—ã–µ –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏

üéµ <b>–ê—É–¥–∏–æ:</b>
‚Ä¢ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑ –≤–∏–¥–µ–æ
‚Ä¢ –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
‚Ä¢ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∏ (Shazam)
‚Ä¢ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ –æ–±–ª–æ–∂–∫–∏

üñº <b>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</b>
‚Ä¢ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
‚Ä¢ –ë–µ–∑ —Å–∂–∞—Ç–∏—è Telegram

<b>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</b>
1. –û—Ç–ø—Ä–∞–≤—å –º–Ω–µ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
2. –í—ã–±–µ—Ä–∏ –Ω—É–∂–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
3. –ü–æ–ª—É—á–∏ —Ñ–∞–π–ª –±–µ–∑ —Å–∂–∞—Ç–∏—è!

–ò–ª–∏ –Ω–∞–ø–∏—à–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ üé∂
"""
    
    await message.answer(
        welcome_text,
        reply_markup=InlineKeyboards.main_menu()
    )


@router.message(Command("help"))
async def cmd_help(message: Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help"""
    help_text = """
üìñ <b>–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</b>

<b>1Ô∏è‚É£ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ:</b>
‚Ä¢ –û—Ç–ø—Ä–∞–≤—å —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ
‚Ä¢ –í—ã–±–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–æ (144p - 4K)
‚Ä¢ –ü–æ–ª—É—á–∏ –≤–∏–¥–µ–æ –±–µ–∑ —Å–∂–∞—Ç–∏—è

<b>2Ô∏è‚É£ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ:</b>
‚Ä¢ –û—Ç–ø—Ä–∞–≤—å —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ –∏ –≤—ã–±–µ—Ä–∏ "–¢–æ–ª—å–∫–æ –∞—É–¥–∏–æ"
‚Ä¢ –ò–ª–∏ –Ω–∞–ø–∏—à–∏: <code>Imagine Dragons Believer</code>
‚Ä¢ –í—ã–±–µ—Ä–∏ –Ω—É–∂–Ω—ã–π —Ç—Ä–µ–∫ –∏–∑ —Å–ø–∏—Å–∫–∞

<b>3Ô∏è‚É£ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∏:</b>
‚Ä¢ –û—Ç–ø—Ä–∞–≤—å –∞—É–¥–∏–æ/–≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
‚Ä¢ –ò–ª–∏ –æ—Ç–ø—Ä–∞–≤—å –≤–∏–¥–µ–æ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
‚Ä¢ –ü–æ–ª—É—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–µ–∫–µ + –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∞—Ç—å

<b>4Ô∏è‚É£ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</b>
‚Ä¢ –û—Ç–ø—Ä–∞–≤—å —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ—Å—Ç Instagram/Pinterest
‚Ä¢ –ü–æ–ª—É—á–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª –±–µ–∑ —Å–∂–∞—Ç–∏—è

<b>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:</b>
‚úÖ YouTube, Instagram, TikTok
‚úÖ Twitter/X, Pinterest
‚úÖ –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –º–µ–¥–∏–∞

<b>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</b>
‚Ä¢ –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
‚Ä¢ –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
"""
    
    await message.answer(help_text)


@router.callback_query(F.data == "help")
async def callback_help(callback: CallbackQuery):
    """Callback –∫–Ω–æ–ø–∫–∏ –ø–æ–º–æ—â–∏"""
    await callback.message.delete()
    await cmd_help(callback.message)
    await callback.answer()


@router.callback_query(F.data == "about")
async def callback_about(callback: CallbackQuery):
    """–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ"""
    about_text = """
ü§ñ <b>MediaDownX Bot</b>

<b>–í–µ—Ä—Å–∏—è:</b> 1.0.0
<b>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:</b> @AbdullohBazhov

<b>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:</b>
‚Ä¢ Python + aiogram 3.x
‚Ä¢ yt-dlp (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫)
‚Ä¢ Shazam API (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∏)
‚Ä¢ FFmpeg (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞)

<b>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</b>
‚ú® –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ –¥–æ 4K
‚ú® –ê—É–¥–∏–æ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
‚ú® –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∏
‚ú® –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚ú® –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ –ø–æ–¥–ø–∏—Å–æ–∫

üí° <b>–ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π!</b>
"""
    
    await callback.message.edit_text(
        about_text,
        reply_markup=InlineKeyboards.main_menu()
    )
    await callback.answer()
